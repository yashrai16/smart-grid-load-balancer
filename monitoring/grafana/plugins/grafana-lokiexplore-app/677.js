"use strict";(self.webpackChunkgrafana_lokiexplore_app=self.webpackChunkgrafana_lokiexplore_app||[]).push([[677],{677:(e,r,t)=>{t.r(r),t.d(r,{buildLogsExplorationFromState:()=>b,default:()=>y});var n=t(5959),o=t.n(n),a=t(8813),l=t(9903),u=t(8955),c=t(3257),i=t(2152);function p(e,r,t){return r in e?Object.defineProperty(e,r,{value:t,enumerable:!0,configurable:!0,writable:!0}):e[r]=t,e}function s(e,r){return r=null!=r?r:{},Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):function(e,r){var t=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);r&&(n=n.filter((function(r){return Object.getOwnPropertyDescriptor(e,r).enumerable}))),t.push.apply(t,n)}return t}(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))})),e}function f(e,r){if(null==e)return{};var t,n,o=function(e,r){if(null==e)return{};var t,n,o={},a=Object.keys(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||(o[t]=e[t]);return o}(e,r);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(n=0;n<a.length;n++)t=a[n],r.indexOf(t)>=0||Object.prototype.propertyIsEnumerable.call(e,t)&&(o[t]=e[t])}return o}function b(e){var{onTimeRangeChange:r,query:t,timeRangeState:n}=e,o=f(e,["onTimeRangeChange","query","timeRangeState"]);const i=new a.JZ(n);if(i.subscribeToState((e=>{r&&r(e.value)})),!t)return console.error("No query parameter found! Please pass in a valid logQL query string when embedding Logs Drilldown."),null;(0,u.default)();const{labelFilters:b}=(0,c.BW)(t),y=b.map((e=>({key:e.key,operator:e.operator,value:e.value})));return new l.P(s(function(e){for(var r=1;r<arguments.length;r++){var t=null!=arguments[r]?arguments[r]:{},n=Object.keys(t);"function"==typeof Object.getOwnPropertySymbols&&(n=n.concat(Object.getOwnPropertySymbols(t).filter((function(e){return Object.getOwnPropertyDescriptor(t,e).enumerable})))),n.forEach((function(r){p(e,r,t[r])}))}return e}({},o),{$timeRange:i,embedded:!0,readOnlyLabelFilters:y}))}function y(e){const[r,t]=(0,n.useState)(null);return(0,n.useEffect)((()=>{r||((0,i.rX)(),t(b(e)))}),[r,e]),r?o().createElement(a.$L,{scene:r,updateUrlOnInit:!1,createBrowserHistorySteps:!0},o().createElement(r.Component,{model:r})):null}}}]);
//# sourceMappingURL=677.js.map?_cache=3217b526f9c02950cbcb